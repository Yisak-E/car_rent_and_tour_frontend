<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ethiopia Car Rent & Destinations Guide</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Smooth modal animation */
    .fade-in { animation: fadeIn .15s ease-out; }
    @keyframes fadeIn { from {opacity:0; transform: translateY(8px)} to {opacity:1; transform: translateY(0)} }
  </style>
</head>

<body class="bg-slate-950 text-slate-100">
  <!-- Top Bar -->
  <header class="sticky top-0 z-40 bg-slate-950/80 backdrop-blur border-b border-slate-800">
    <div class="mx-auto max-w-6xl px-4 py-3 flex items-center justify-between gap-3">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-gradient-to-br from-emerald-500 to-sky-500"></div>
        <div>
          <p class="font-semibold leading-tight">EthioRide & Destinations</p>
          <p class="text-xs text-slate-400 -mt-0.5">Car info • Destinations • Hotels • Contact-based service</p>
        </div>
      </div>

      <nav class="hidden md:flex items-center gap-2">
        <button data-tab="home" class="tab-btn px-3 py-2 rounded-lg text-sm hover:bg-slate-900 bg-slate-900">Home</button>
        <button data-tab="cars" class="tab-btn px-3 py-2 rounded-lg text-sm hover:bg-slate-900">Cars</button>
        <button data-tab="destinations" class="tab-btn px-3 py-2 rounded-lg text-sm hover:bg-slate-900">Destinations</button>
        <button data-tab="hotels" class="tab-btn px-3 py-2 rounded-lg text-sm hover:bg-slate-900">Hotels</button>
        <button data-tab="faq" class="tab-btn px-3 py-2 rounded-lg text-sm hover:bg-slate-900">FAQ</button>
        <button data-tab="contact" class="tab-btn px-3 py-2 rounded-lg text-sm hover:bg-slate-900">Contact</button>
      </nav>

      <button id="mobileMenuBtn" class="md:hidden px-3 py-2 rounded-lg bg-slate-900 border border-slate-800 text-sm">
        Menu
      </button>
    </div>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="md:hidden hidden border-t border-slate-800">
      <div class="mx-auto max-w-6xl px-4 py-3 grid grid-cols-2 gap-2">
        <button data-tab="home" class="tab-btn px-3 py-2 rounded-lg text-sm bg-slate-900">Home</button>
        <button data-tab="cars" class="tab-btn px-3 py-2 rounded-lg text-sm bg-slate-900">Cars</button>
        <button data-tab="destinations" class="tab-btn px-3 py-2 rounded-lg text-sm bg-slate-900">Destinations</button>
        <button data-tab="hotels" class="tab-btn px-3 py-2 rounded-lg text-sm bg-slate-900">Hotels</button>
        <button data-tab="faq" class="tab-btn px-3 py-2 rounded-lg text-sm bg-slate-900">FAQ</button>
        <button data-tab="contact" class="tab-btn px-3 py-2 rounded-lg text-sm bg-slate-900">Contact</button>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="mx-auto max-w-6xl px-4 pt-10 pb-6" id="hero">
    <div class="grid lg:grid-cols-12 gap-6 items-start">
      <div class="lg:col-span-7">
        <h1 class="text-3xl sm:text-4xl font-bold leading-tight">
          Explore Ethiopia. Find cars, destinations, and hotels — then contact us to arrange.
        </h1>
        <p class="mt-3 text-slate-300">
          This platform is <span class="font-semibold text-slate-100">information-first</span> (no online booking/payment for now).
          We help travelers plan routes, pick hotels, and arrange transportation through call/WhatsApp.
        </p>

        <!-- Quick Route Example -->
        <div class="mt-6 rounded-2xl border border-slate-800 bg-slate-900/40 p-4">
          <div class="flex items-start justify-between gap-3">
            <div>
              <p class="text-sm text-slate-400">Quick route example</p>
              <p class="font-semibold">Bole International Airport → Entoto Park</p>
              <p class="text-sm text-slate-300 mt-1">
                See nearby hotels + short notes + price ranges, then contact us to organize the trip.
              </p>
            </div>
            <button id="openRouteBtn" class="shrink-0 px-3 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-slate-950 font-semibold text-sm">
              View route
            </button>
          </div>
        </div>

        <!-- Search -->
        <div class="mt-6 grid sm:grid-cols-12 gap-3">
          <div class="sm:col-span-7">
            <label class="text-xs text-slate-400">Search (cars, destinations, hotels)</label>
            <input id="globalSearch" class="mt-1 w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-800 focus:outline-none focus:ring-2 focus:ring-sky-500"
              placeholder="Try: Entoto, Addis, SUV, budget hotel..." />
          </div>
          <div class="sm:col-span-5">
            <label class="text-xs text-slate-400">City</label>
            <select id="cityFilter" class="mt-1 w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-800 focus:outline-none focus:ring-2 focus:ring-sky-500">
              <option value="all">All cities</option>
              <option>Addis Ababa</option>
              <option>Bahir Dar</option>
              <option>Gondar</option>
              <option>Hawassa</option>
            </select>
          </div>
        </div>

        <div class="mt-4 flex flex-wrap gap-2 text-xs text-slate-400">
          <span class="px-2 py-1 rounded-lg border border-slate-800 bg-slate-900/40">No online booking</span>
          <span class="px-2 py-1 rounded-lg border border-slate-800 bg-slate-900/40">No payments</span>
          <span class="px-2 py-1 rounded-lg border border-slate-800 bg-slate-900/40">Call/WhatsApp to arrange</span>
          <span class="px-2 py-1 rounded-lg border border-slate-800 bg-slate-900/40">Hotel suggestions & price ranges</span>
        </div>
      </div>

      <!-- CTA Card -->
      <aside class="lg:col-span-5 rounded-2xl border border-slate-800 bg-slate-900/40 p-5">
        <p class="text-sm text-slate-400">Need help planning?</p>
        <h2 class="text-xl font-semibold mt-1">Contact us for car + trip arrangement</h2>
        <p class="text-sm text-slate-300 mt-2">
          Tell us your route, date, and group size. We’ll recommend cars and hotels and confirm availability via message.
        </p>

        <div class="mt-4 grid sm:grid-cols-2 gap-3">
          <a class="px-4 py-3 rounded-xl bg-sky-600 hover:bg-sky-500 text-slate-950 font-semibold text-center"
             href="tel:+251900000000">Call now</a>
          <a class="px-4 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-slate-950 font-semibold text-center"
             href="https://wa.me/251900000000" target="_blank" rel="noopener">WhatsApp</a>
        </div>

        <div class="mt-4 text-xs text-slate-400">
          Office: Addis Ababa • Hours: 8:30–6:00 • Support: English / Amharic (future)
        </div>
      </aside>
    </div>
  </section>

  <!-- Tabs Content -->
  <main class="mx-auto max-w-6xl px-4 pb-14">
    <!-- Home -->
    <section id="tab-home" class="tab-panel">
      <div class="mt-4 grid lg:grid-cols-3 gap-4">
        <div class="rounded-2xl border border-slate-800 bg-slate-900/40 p-5">
          <p class="text-sm text-slate-400">Feature</p>
          <p class="font-semibold text-lg mt-1">Destinations Explorer</p>
          <p class="text-sm text-slate-300 mt-2">Pick a place (Entoto, Lalibela, etc.) and see nearby hotels and travel notes.</p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-900/40 p-5">
          <p class="text-sm text-slate-400">Feature</p>
          <p class="font-semibold text-lg mt-1">Cars (Information Only)</p>
          <p class="text-sm text-slate-300 mt-2">Browse types, capacities, and driver option. Arrange by contacting us.</p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-900/40 p-5">
          <p class="text-sm text-slate-400">Feature</p>
          <p class="font-semibold text-lg mt-1">Hotels & Price Ranges</p>
          <p class="text-sm text-slate-300 mt-2">Short notes (breakfast, shuttle, Wi-Fi) and budget/mid/luxury range.</p>
        </div>
      </div>

      <div class="mt-6">
        <h3 class="text-xl font-semibold">Popular cities</h3>
        <p class="text-sm text-slate-300 mt-1">Explore destinations and hotels by city.</p>

        <div class="mt-3 grid sm:grid-cols-2 lg:grid-cols-4 gap-3" id="cityCards"></div>
      </div>
    </section>

    <!-- Cars -->
    <section id="tab-cars" class="tab-panel hidden">
      <div class="flex items-end justify-between gap-3 mt-4">
        <div>
          <h3 class="text-xl font-semibold">Cars</h3>
          <p class="text-sm text-slate-300 mt-1">Browse vehicles. To arrange rental, contact us (no online booking).</p>
        </div>
        <select id="carTypeFilter" class="px-3 py-2 rounded-xl bg-slate-900 border border-slate-800 text-sm">
          <option value="all">All types</option>
          <option value="Compact">Compact</option>
          <option value="SUV">SUV</option>
          <option value="Van">Van</option>
          <option value="Luxury">Luxury</option>
        </select>
      </div>

      <div class="mt-4 grid sm:grid-cols-2 lg:grid-cols-3 gap-4" id="carsGrid"></div>
    </section>

    <!-- Destinations -->
    <section id="tab-destinations" class="tab-panel hidden">
      <div class="mt-4">
        <h3 class="text-xl font-semibold">Destinations</h3>
        <p class="text-sm text-slate-300 mt-1">
          Select a destination to see travel notes and nearby hotels.
        </p>
      </div>

      <div class="mt-4 grid sm:grid-cols-2 lg:grid-cols-3 gap-4" id="destinationsGrid"></div>
    </section>

    <!-- Hotels -->
    <section id="tab-hotels" class="tab-panel hidden">
      <div class="mt-4">
        <h3 class="text-xl font-semibold">Hotels</h3>
        <p class="text-sm text-slate-300 mt-1">
          Curated suggestions with services and price ranges (informational).
        </p>
      </div>

      <div class="mt-4 grid sm:grid-cols-2 lg:grid-cols-3 gap-4" id="hotelsGrid"></div>
    </section>

    <!-- FAQ -->
    <section id="tab-faq" class="tab-panel hidden">
      <div class="mt-4">
        <h3 class="text-xl font-semibold">FAQ</h3>
        <p class="text-sm text-slate-300 mt-1">Common questions about rentals and planning.</p>
      </div>

      <div class="mt-4 space-y-3" id="faqList"></div>
    </section>

    <!-- Contact -->
    <section id="tab-contact" class="tab-panel hidden">
      <div class="mt-4">
        <h3 class="text-xl font-semibold">Contact</h3>
        <p class="text-sm text-slate-300 mt-1">We arrange everything by phone/WhatsApp.</p>
      </div>

      <div class="mt-4 grid lg:grid-cols-2 gap-4">
        <div class="rounded-2xl border border-slate-800 bg-slate-900/40 p-5">
          <h4 class="font-semibold">Contact details</h4>
          <div class="mt-3 space-y-2 text-sm text-slate-200">
            <p><span class="text-slate-400">Phone:</span> <a class="underline" href="tel:+251900000000">+251 900 000 000</a></p>
            <p><span class="text-slate-400">WhatsApp:</span> <a class="underline" href="https://wa.me/251900000000" target="_blank" rel="noopener">Chat on WhatsApp</a></p>
            <p><span class="text-slate-400">Email:</span> <a class="underline" href="mailto:info@ethioride.example">info@ethioride.example</a></p>
            <p><span class="text-slate-400">Office:</span> Addis Ababa (Bole area)</p>
            <p class="text-xs text-slate-400 mt-2">*Replace with your real business contacts.</p>
          </div>

          <div class="mt-4 flex gap-3">
            <a class="px-4 py-3 rounded-xl bg-sky-600 hover:bg-sky-500 text-slate-950 font-semibold"
               href="tel:+251900000000">Call</a>
            <a class="px-4 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-slate-950 font-semibold"
               href="https://wa.me/251900000000" target="_blank" rel="noopener">WhatsApp</a>
          </div>
        </div>

        <form class="rounded-2xl border border-slate-800 bg-slate-900/40 p-5" onsubmit="return sendMessage(event)">
          <h4 class="font-semibold">Send a message (demo)</h4>
          <p class="text-sm text-slate-300 mt-1">In production this can send to email/WhatsApp or store in database.</p>

          <div class="mt-4 grid gap-3">
            <input class="w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-800" required placeholder="Your name" id="msgName" />
            <input class="w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-800" required placeholder="Phone / WhatsApp" id="msgPhone" />
            <textarea class="w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-800" rows="4"
                      required placeholder="Tell us your route, dates (optional), group size, and preferences." id="msgText"></textarea>

            <button class="px-4 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-slate-950 font-semibold">
              Submit
            </button>

            <p id="msgStatus" class="text-sm text-emerald-300 hidden">Message saved locally (demo). We’ll contact you.</p>
          </div>
        </form>
      </div>
    </section>
  </main>

  <!-- Modal -->
  <div id="modal" class="fixed inset-0 bg-black/60 hidden items-center justify-center p-4 z-50">
    <div class="w-full max-w-2xl rounded-2xl border border-slate-800 bg-slate-950 p-5 fade-in">
      <div class="flex items-start justify-between gap-3">
        <div>
          <p id="modalTag" class="text-xs text-slate-400"></p>
          <h3 id="modalTitle" class="text-xl font-semibold"></h3>
          <p id="modalSubtitle" class="text-sm text-slate-300 mt-1"></p>
        </div>
        <button id="closeModalBtn" class="px-3 py-2 rounded-xl bg-slate-900 border border-slate-800 text-sm hover:bg-slate-800">Close</button>
      </div>

      <div id="modalBody" class="mt-4 text-sm text-slate-200 space-y-2"></div>

      <div class="mt-5 flex flex-wrap gap-3">
        <a class="px-4 py-3 rounded-xl bg-sky-600 hover:bg-sky-500 text-slate-950 font-semibold"
           href="tel:+251900000000">Call</a>
        <a class="px-4 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-slate-950 font-semibold"
           href="https://wa.me/251900000000" target="_blank" rel="noopener">WhatsApp</a>
        <button id="modalGoHotels" class="px-4 py-3 rounded-xl bg-slate-900 border border-slate-800 text-sm hover:bg-slate-800 hidden">
          See nearby hotels
        </button>
      </div>
    </div>
  </div>

  <footer class="border-t border-slate-800">
    <div class="mx-auto max-w-6xl px-4 py-8 text-sm text-slate-400 flex flex-wrap items-center justify-between gap-3">
      <p>© <span id="year"></span> EthioRide & Destinations • Info-only prototype</p>
      <p>Built with Tailwind CDN • No payment • No online booking</p>
    </div>
  </footer>

  <script>
    // ---------- Data (replace later with API calls) ----------
    const data = {
      cities: [
        { name: "Addis Ababa", note: "Capital city. Best starting point (Bole Airport)." },
        { name: "Bahir Dar", note: "Lake Tana, Blue Nile Falls access." },
        { name: "Gondar", note: "Castles and history." },
        { name: "Hawassa", note: "Lake-side vibes and relaxation." }
      ],
      cars: [
        { id: "car1", city: "Addis Ababa", type: "Compact", name: "Compact Sedan", capacity: 4, transmission: "Auto", driver: true, info: "Good for city trips and short routes." },
        { id: "car2", city: "Addis Ababa", type: "SUV", name: "4x4 SUV", capacity: 5, transmission: "Auto", driver: true, info: "Best for rough roads & long-distance travel." },
        { id: "car3", city: "Bahir Dar", type: "Van", name: "Minivan", capacity: 8, transmission: "Manual", driver: true, info: "Great for family/group travel." },
        { id: "car4", city: "Gondar", type: "Compact", name: "Budget Hatchback", capacity: 4, transmission: "Manual", driver: false, info: "Affordable option for local trips." },
        { id: "car5", city: "Addis Ababa", type: "Luxury", name: "Luxury Sedan", capacity: 4, transmission: "Auto", driver: true, info: "Comfort ride for business travelers." }
      ],
      destinations: [
        {
          id: "dest1",
          city: "Addis Ababa",
          name: "Entoto Park",
          summary: "Nature + viewpoints above Addis Ababa.",
          notes: ["Cool weather—bring a jacket.", "Great views of the city.", "Good for half-day trip."],
          routeExample: "Bole International Airport → Entoto Park (Addis Ababa)",
          nearbyHotelIds: ["h1","h2","h3"]
        },
        {
          id: "dest2",
          city: "Bahir Dar",
          name: "Blue Nile Falls",
          summary: "Famous waterfall near Bahir Dar.",
          notes: ["Seasonal strength varies.", "Best with local guide.", "Combine with Lake Tana."],
          routeExample: "Bahir Dar city → Blue Nile Falls",
          nearbyHotelIds: ["h4","h5"]
        },
        {
          id: "dest3",
          city: "Gondar",
          name: "Fasil Ghebbi (Castles)",
          summary: "UNESCO site—historic castles and culture.",
          notes: ["Visit early to avoid crowds.", "Hire guide for history.", "Great photo spots."],
          routeExample: "Gondar center → Fasil Ghebbi",
          nearbyHotelIds: ["h6"]
        }
      ],
      hotels: [
        { id:"h1", city:"Addis Ababa", name:"Bole Business Hotel", priceRange:"Mid", services:["Wi-Fi","Breakfast","Airport shuttle"], note:"Convenient for airport area, good for quick stays." },
        { id:"h2", city:"Addis Ababa", name:"Entoto View Lodge", priceRange:"Mid", services:["Breakfast","City view","Restaurant"], note:"Closer to Entoto direction, calm environment." },
        { id:"h3", city:"Addis Ababa", name:"Budget Guest House", priceRange:"Low", services:["Wi-Fi"], note:"Affordable option for short stays." },
        { id:"h4", city:"Bahir Dar", name:"Lake Tana Resort", priceRange:"Luxury", services:["Lake view","Pool","Restaurant"], note:"Relax by the lake; great for tourists." },
        { id:"h5", city:"Bahir Dar", name:"City Center Hotel", priceRange:"Mid", services:["Wi-Fi","Breakfast"], note:"Good location near restaurants and transport." },
        { id:"h6", city:"Gondar", name:"Historic Castle Hotel", priceRange:"Mid", services:["Wi-Fi","Breakfast","Tour desk"], note:"Close to castles; helps arrange local guides." }
      ],
      faq: [
        { q: "Do you offer online booking or payment?", a: "Not yet. For now, the site is informational. You contact us by phone/WhatsApp and we arrange everything." },
        { q: "What information do you need from me?", a: "Route (start/end), travel date (optional), number of people, and car preference (SUV/compact/van) and driver option." },
        { q: "Can you recommend hotels near my destination?", a: "Yes. For each destination we provide curated hotels with a short note and price range." },
        { q: "Can you customize a tour route?", a: "Yes. Tell us your destinations, timeline, and budget; we’ll suggest a plan." },
        { q: "Is the hotel price exact?", a: "We show approximate ranges (Low/Mid/Luxury). Actual price depends on season and availability." }
      ]
    };

    // ---------- UI helpers ----------
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => Array.from(document.querySelectorAll(sel));

    function setActiveTab(tabName) {
      $$(".tab-btn").forEach(b => b.classList.remove("bg-slate-900"));
      $$(".tab-btn").filter(b => b.dataset.tab === tabName).forEach(b => b.classList.add("bg-slate-900"));

      $$(".tab-panel").forEach(p => p.classList.add("hidden"));
      $("#tab-" + tabName).classList.remove("hidden");

      // close mobile menu after click
      $("#mobileMenu").classList.add("hidden");
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function badge(text) {
      return `<span class="inline-flex items-center px-2 py-1 rounded-lg border border-slate-800 bg-slate-900/40 text-xs text-slate-200">${text}</span>`;
    }

    function openModal({ tag, title, subtitle, bodyHtml, showHotelsBtn=false, onHotelsClick=null }) {
      $("#modalTag").textContent = tag || "";
      $("#modalTitle").textContent = title || "";
      $("#modalSubtitle").textContent = subtitle || "";
      $("#modalBody").innerHTML = bodyHtml || "";

      const hotelsBtn = $("#modalGoHotels");
      if (showHotelsBtn) {
        hotelsBtn.classList.remove("hidden");
        hotelsBtn.onclick = onHotelsClick || null;
      } else {
        hotelsBtn.classList.add("hidden");
        hotelsBtn.onclick = null;
      }

      $("#modal").classList.remove("hidden");
      $("#modal").classList.add("flex");
    }

    function closeModal() {
      $("#modal").classList.add("hidden");
      $("#modal").classList.remove("flex");
    }

    // ---------- Renderers ----------
    function renderCityCards() {
      const el = $("#cityCards");
      el.innerHTML = "";
      data.cities.forEach(c => {
        const card = document.createElement("button");
        card.className = "text-left rounded-2xl border border-slate-800 bg-gradient-to-br from-slate-900/70 to-slate-900/30 p-4 hover:border-slate-600 transition";
        card.innerHTML = `
          <p class="font-semibold">${c.name}</p>
          <p class="text-sm text-slate-300 mt-1">${c.note}</p>
          <p class="text-xs text-slate-400 mt-2">Click to filter</p>
        `;
        card.onclick = () => {
          $("#cityFilter").value = c.name;
          applyFiltersAndRenderAll();
          setActiveTab("destinations");
        };
        el.appendChild(card);
      });
    }

    function renderCars(list) {
      const grid = $("#carsGrid");
      grid.innerHTML = "";
      if (!list.length) {
        grid.innerHTML = `<div class="col-span-full rounded-2xl border border-slate-800 bg-slate-900/40 p-5 text-slate-300">
          No cars found for current filters.
        </div>`;
        return;
      }

      list.forEach(car => {
        const div = document.createElement("div");
        div.className = "rounded-2xl border border-slate-800 bg-slate-900/40 p-5";
        div.innerHTML = `
          <div class="flex items-start justify-between gap-3">
            <div>
              <p class="text-xs text-slate-400">${car.city} • ${car.type}</p>
              <p class="text-lg font-semibold mt-1">${car.name}</p>
            </div>
            <span class="text-xs px-2 py-1 rounded-lg bg-slate-900 border border-slate-800">${car.driver ? "Driver option" : "Self-drive"}</span>
          </div>

          <div class="mt-3 flex flex-wrap gap-2">
            ${badge("Capacity: " + car.capacity)}
            ${badge("Trans: " + car.transmission)}
            ${badge(car.driver ? "With driver" : "No driver")}
          </div>

          <p class="text-sm text-slate-300 mt-3">${car.info}</p>

          <div class="mt-4 flex gap-2">
            <button class="px-3 py-2 rounded-xl bg-slate-900 border border-slate-800 text-sm hover:bg-slate-800"
              data-open="car" data-id="${car.id}">Details</button>
            <a class="px-3 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-slate-950 font-semibold text-sm"
              href="https://wa.me/251900000000" target="_blank" rel="noopener">Ask on WhatsApp</a>
          </div>
          <p class="text-xs text-slate-500 mt-2">*Info only — availability confirmed via message.</p>
        `;
        grid.appendChild(div);
      });
    }

    function renderDestinations(list) {
      const grid = $("#destinationsGrid");
      grid.innerHTML = "";
      if (!list.length) {
        grid.innerHTML = `<div class="col-span-full rounded-2xl border border-slate-800 bg-slate-900/40 p-5 text-slate-300">
          No destinations found for current filters.
        </div>`;
        return;
      }

      list.forEach(d => {
        const div = document.createElement("div");
        div.className = "rounded-2xl border border-slate-800 bg-slate-900/40 p-5";
        div.innerHTML = `
          <p class="text-xs text-slate-400">${d.city}</p>
          <p class="text-lg font-semibold mt-1">${d.name}</p>
          <p class="text-sm text-slate-300 mt-2">${d.summary}</p>

          <div class="mt-3 flex flex-wrap gap-2">
            ${badge("Hotels nearby: " + d.nearbyHotelIds.length)}
            ${badge("Route example")}
          </div>

          <div class="mt-4 flex gap-2">
            <button class="px-3 py-2 rounded-xl bg-slate-900 border border-slate-800 text-sm hover:bg-slate-800"
              data-open="destination" data-id="${d.id}">Explore</button>
            <button class="px-3 py-2 rounded-xl bg-slate-900 border border-slate-800 text-sm hover:bg-slate-800"
              data-open="destinationHotels" data-id="${d.id}">Hotels</button>
          </div>
        `;
        grid.appendChild(div);
      });
    }

    function renderHotels(list) {
      const grid = $("#hotelsGrid");
      grid.innerHTML = "";
      if (!list.length) {
        grid.innerHTML = `<div class="col-span-full rounded-2xl border border-slate-800 bg-slate-900/40 p-5 text-slate-300">
          No hotels found for current filters.
        </div>`;
        return;
      }

      list.forEach(h => {
        const div = document.createElement("div");
        div.className = "rounded-2xl border border-slate-800 bg-slate-900/40 p-5";
        div.innerHTML = `
          <p class="text-xs text-slate-400">${h.city} • ${h.priceRange}</p>
          <p class="text-lg font-semibold mt-1">${h.name}</p>
          <p class="text-sm text-slate-300 mt-2">${h.note}</p>

          <div class="mt-3 flex flex-wrap gap-2">
            ${h.services.map(s => badge(s)).join("")}
          </div>

          <div class="mt-4 flex gap-2">
            <button class="px-3 py-2 rounded-xl bg-slate-900 border border-slate-800 text-sm hover:bg-slate-800"
              data-open="hotel" data-id="${h.id}">Details</button>
            <a class="px-3 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-slate-950 font-semibold text-sm"
              href="tel:+251900000000">Call</a>
          </div>
          <p class="text-xs text-slate-500 mt-2">*Price range is approximate.</p>
        `;
        grid.appendChild(div);
      });
    }

    function renderFAQ() {
      const list = $("#faqList");
      list.innerHTML = "";
      data.faq.forEach((item, idx) => {
        const wrap = document.createElement("div");
        wrap.className = "rounded-2xl border border-slate-800 bg-slate-900/40 overflow-hidden";
        wrap.innerHTML = `
          <button class="w-full text-left px-5 py-4 flex items-center justify-between gap-3 hover:bg-slate-900"
                  data-faq="${idx}">
            <span class="font-semibold">${item.q}</span>
            <span class="text-slate-400">+</span>
          </button>
          <div class="px-5 pb-4 text-sm text-slate-300 hidden" id="faq-${idx}">
            ${item.a}
          </div>
        `;
        list.appendChild(wrap);
      });
    }

    // ---------- Filtering ----------
    function getFilters() {
      return {
        q: ($("#globalSearch").value || "").toLowerCase().trim(),
        city: $("#cityFilter").value,
        carType: $("#carTypeFilter").value
      };
    }

    function matchesQuery(text, q) {
      if (!q) return true;
      return (text || "").toLowerCase().includes(q);
    }

    function applyFiltersAndRenderAll() {
      const { q, city, carType } = getFilters();

      const carsFiltered = data.cars.filter(c => {
        const cityOk = (city === "all" || c.city === city);
        const typeOk = (carType === "all" || c.type === carType);
        const qOk = matchesQuery(`${c.name} ${c.type} ${c.city} ${c.info} ${c.transmission} ${c.capacity} ${c.driver ? "driver" : ""}`, q);
        return cityOk && typeOk && qOk;
      });

      const destinationsFiltered = data.destinations.filter(d => {
        const cityOk = (city === "all" || d.city === city);
        const qOk = matchesQuery(`${d.name} ${d.city} ${d.summary} ${d.notes.join(" ")}`, q);
        return cityOk && qOk;
      });

      const hotelsFiltered = data.hotels.filter(h => {
        const cityOk = (city === "all" || h.city === city);
        const qOk = matchesQuery(`${h.name} ${h.city} ${h.priceRange} ${h.note} ${h.services.join(" ")}`, q);
        return cityOk && qOk;
      });

      renderCars(carsFiltered);
      renderDestinations(destinationsFiltered);
      renderHotels(hotelsFiltered);
    }

    // ---------- Modal open handlers ----------
    function getDestinationById(id) { return data.destinations.find(d => d.id === id); }
    function getHotelById(id) { return data.hotels.find(h => h.id === id); }
    function getCarById(id) { return data.cars.find(c => c.id === id); }

    function openDestinationModal(destId) {
      const d = getDestinationById(destId);
      if (!d) return;

      const hotels = d.nearbyHotelIds.map(getHotelById).filter(Boolean);

      openModal({
        tag: "Destination",
        title: d.name,
        subtitle: `${d.city} • ${d.routeExample}`,
        bodyHtml: `
          <p class="text-slate-300">${d.summary}</p>
          <div class="mt-3">
            <p class="text-xs text-slate-400">Travel notes</p>
            <ul class="list-disc pl-5 mt-1 space-y-1 text-slate-200">
              ${d.notes.map(n => `<li>${n}</li>`).join("")}
            </ul>
          </div>
          <div class="mt-3">
            <p class="text-xs text-slate-400">Nearby hotels</p>
            <div class="mt-2 flex flex-wrap gap-2">
              ${hotels.slice(0,4).map(h => badge(`${h.name} (${h.priceRange})`)).join("") || "<span class='text-slate-400'>No hotels listed yet</span>"}
            </div>
          </div>
        `,
        showHotelsBtn: true,
        onHotelsClick: () => {
          closeModal();
          setActiveTab("hotels");
          // filter hotels to city and search destination name
          $("#cityFilter").value = d.city;
          $("#globalSearch").value = d.name.split(" ")[0];
          applyFiltersAndRenderAll();
        }
      });
    }

    function openDestinationHotelsModal(destId) {
      const d = getDestinationById(destId);
      if (!d) return;

      const hotels = d.nearbyHotelIds.map(getHotelById).filter(Boolean);

      openModal({
        tag: "Nearby Hotels",
        title: `Hotels near ${d.name}`,
        subtitle: `${d.city} • Price range is approximate`,
        bodyHtml: `
          <div class="space-y-3">
            ${
              hotels.length ? hotels.map(h => `
                <div class="rounded-xl border border-slate-800 bg-slate-900/40 p-3">
                  <div class="flex items-start justify-between gap-3">
                    <div>
                      <p class="font-semibold">${h.name}</p>
                      <p class="text-xs text-slate-400">${h.city} • ${h.priceRange}</p>
                    </div>
                    <div class="flex gap-2">${badge(h.priceRange)}</div>
                  </div>
                  <p class="text-sm text-slate-300 mt-2">${h.note}</p>
                  <div class="mt-2 flex flex-wrap gap-2">${h.services.map(s => badge(s)).join("")}</div>
                </div>
              `).join("") : `<p class="text-slate-300">No hotels listed yet for this destination.</p>`
            }
          </div>
        `
      });
    }

    function openHotelModal(hotelId) {
      const h = getHotelById(hotelId);
      if (!h) return;

      openModal({
        tag: "Hotel",
        title: h.name,
        subtitle: `${h.city} • Price: ${h.priceRange} (approx.)`,
        bodyHtml: `
          <p class="text-slate-300">${h.note}</p>
          <div class="mt-3">
            <p class="text-xs text-slate-400">Services</p>
            <div class="mt-2 flex flex-wrap gap-2">
              ${h.services.map(s => badge(s)).join("")}
            </div>
          </div>
          <div class="mt-3">
            <p class="text-xs text-slate-400">Tip</p>
            <p class="text-slate-300">Contact us and we can recommend the best option for your route and budget.</p>
          </div>
        `
      });
    }

    function openCarModal(carId) {
      const c = getCarById(carId);
      if (!c) return;

      openModal({
        tag: "Car",
        title: c.name,
        subtitle: `${c.city} • ${c.type}`,
        bodyHtml: `
          <div class="flex flex-wrap gap-2 mb-2">
            ${badge("Capacity: " + c.capacity)}
            ${badge("Transmission: " + c.transmission)}
            ${badge(c.driver ? "Driver option" : "Self-drive")}
          </div>
          <p class="text-slate-300">${c.info}</p>
          <div class="mt-3">
            <p class="text-xs text-slate-400">How to arrange</p>
            <p class="text-slate-300">Send your route and preferences on WhatsApp or call us. We'll confirm availability and price by message.</p>
          </div>
        `
      });
    }

    // ---------- Contact form demo ----------
    function sendMessage(e) {
      e.preventDefault();
      const payload = {
        name: $("#msgName").value.trim(),
        phone: $("#msgPhone").value.trim(),
        text: $("#msgText").value.trim(),
        createdAt: new Date().toISOString()
      };

      // Demo: store locally
      const key = "ethioride_messages";
      const existing = JSON.parse(localStorage.getItem(key) || "[]");
      existing.push(payload);
      localStorage.setItem(key, JSON.stringify(existing));

      $("#msgStatus").classList.remove("hidden");
      setTimeout(() => $("#msgStatus").classList.add("hidden"), 3000);
      e.target.reset();
      return false;
    }

    // ---------- Events ----------
    // Tabs
    $$(".tab-btn").forEach(btn => {
      btn.addEventListener("click", () => setActiveTab(btn.dataset.tab));
    });

    // Mobile menu
    $("#mobileMenuBtn").addEventListener("click", () => {
      $("#mobileMenu").classList.toggle("hidden");
    });

    // Modal close
    $("#closeModalBtn").addEventListener("click", closeModal);
    $("#modal").addEventListener("click", (e) => {
      if (e.target === $("#modal")) closeModal();
    });
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeModal();
    });

    // Route quick modal
    $("#openRouteBtn").addEventListener("click", () => {
      const d = data.destinations.find(x => x.name === "Entoto Park");
      openDestinationModal(d?.id || "dest1");
    });

    // Global search & filters
    $("#globalSearch").addEventListener("input", applyFiltersAndRenderAll);
    $("#cityFilter").addEventListener("change", applyFiltersAndRenderAll);
    $("#carTypeFilter").addEventListener("change", applyFiltersAndRenderAll);

    // Delegated click handlers for modals
    document.addEventListener("click", (e) => {
      const btn = e.target.closest("[data-open]");
      if (!btn) return;

      const type = btn.getAttribute("data-open");
      const id = btn.getAttribute("data-id");

      if (type === "destination") openDestinationModal(id);
      if (type === "destinationHotels") openDestinationHotelsModal(id);
      if (type === "hotel") openHotelModal(id);
      if (type === "car") openCarModal(id);
    });

    // FAQ toggle
    document.addEventListener("click", (e) => {
      const btn = e.target.closest("[data-faq]");
      if (!btn) return;
      const idx = btn.getAttribute("data-faq");
      const panel = $("#faq-" + idx);
      const icon = btn.querySelector("span:last-child");
      const isHidden = panel.classList.contains("hidden");
      panel.classList.toggle("hidden");
      icon.textContent = isHidden ? "−" : "+";
    });

    // Init
    $("#year").textContent = new Date().getFullYear();
    renderCityCards();
    renderFAQ();
    applyFiltersAndRenderAll();

    // Default tab
    setActiveTab("home");
  </script>
</body>
</html>
